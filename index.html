<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>马拉松配速计算工具 · MVP</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>马拉松配速计算工具</h1>
      <div class="mode-label">选择模式</div>
      <nav class="tabs" role="tablist" aria-label="功能模式切换">
        <button id="tab-pace" class="tab active" role="tab" aria-selected="true" aria-controls="panel-pace">配速计算</button>
        <button id="tab-predict" class="tab" role="tab" aria-selected="false" aria-controls="panel-predict">成绩推测</button>
      </nav>
    </header>

    <main class="container">
      <!-- 配速计算模式 -->
      <section id="panel-pace" class="panel active" role="tabpanel" aria-labelledby="tab-pace">
        <div class="card">
          <h2>配速计算</h2>

          <form id="form-pace" class="form-grid" novalidate>
            <fieldset class="group">
              <legend>赛事类型</legend>
              <div class="input-row radios">
                <label><input type="radio" name="race" value="full" checked /> 全马 (42.195km)</label>
                <label><input type="radio" name="race" value="half" /> 半马 (21.0975km)</label>
              </div>
            </fieldset>

            <fieldset class="group">
              <legend>目标完赛成绩</legend>
              
              <!-- 滚轮选择器区域 -->
              <div class="wheel-picker-container">
                <div class="embedded-wheels">
                  <div class="wheel-column">
                    <div class="wheel-label">时</div>
                    <div id="hour-wheel" class="wheel-picker"></div>
                  </div>
                  <div class="wheel-column">
                    <div class="wheel-label">分</div>
                    <div id="minute-wheel" class="wheel-picker"></div>
                  </div>
                  <div class="wheel-column">
                    <div class="wheel-label">秒</div>
                    <div id="second-wheel" class="wheel-picker"></div>
                  </div>
                </div>
              </div>
            </fieldset>

            <fieldset class="group">
              <legend>策略选择</legend>
              <div class="input-row radios">
                <label><input type="radio" name="strategy-pace" value="even" /> 匀速策略</label>
                <label><input type="radio" name="strategy-pace" value="negative" checked /> 负分割策略</label>
              </div>
              
              <!-- 新的负分割策略选择区域 -->
              <div id="negative-split-wrap-pace" class="negative-split-wrap">
                <div class="strategy-explanation">
                  <p>负分割策略：每公里配速持续变快，从较慢配速开始逐渐加速，有助于避免过早疲劳。</p>
                </div>
                
                <div class="strategy-options">
                  <label class="strategy-option">
                    <input type="radio" name="negative-split-pace" value="15" />
                    <div class="strategy-card">
                      <div class="strategy-title">保守策略</div>
                      <div class="strategy-desc">第一公里比目标配速慢15秒/公里</div>
                      <div class="strategy-detail">从较慢配速开始，给身体充分热身时间，降低撞墙风险</div>
                    </div>
                  </label>
                  
                  <label class="strategy-option">
                    <input type="radio" name="negative-split-pace" value="10" checked />
                    <div class="strategy-card">
                      <div class="strategy-title">标准策略</div>
                      <div class="strategy-desc">第一公里比目标配速慢10秒/公里</div>
                      <div class="strategy-detail">平衡的负分割策略，适合大多数有经验的跑者</div>
                    </div>
                  </label>
                  
                  <label class="strategy-option">
                    <input type="radio" name="negative-split-pace" value="5" />
                    <div class="strategy-card">
                      <div class="strategy-title">激进策略</div>
                      <div class="strategy-desc">第一公里比目标配速慢5秒/公里</div>
                      <div class="strategy-detail">接近匀速起跑，后半程需要大幅加速，适合高水平跑者</div>
                    </div>
                  </label>
                </div>
              </div>
            </fieldset>

            <div class="actions">
              <button type="submit" class="btn primary">配速计算</button>
              <button type="button" id="clear-pace" class="btn">清除</button>
            </div>
          </form>

          <div class="results" id="results-pace">
            <div class="result-line">
              <span class="result-label">所需平均配速</span>
              <span class="result-value" id="avg-pace">—</span>
            </div>
            <div class="table-wrap">
              <table class="table" aria-label="关键节点用时">
                <thead>
                  <tr>
                    <th>里程点</th>
                    <th id="pace-column-header" class="hidden">参考配速</th>
                    <th>累计用时</th>
                  </tr>
                </thead>
                <tbody id="splits-body">
                  <tr><td colspan="3" class="muted">暂无数据</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- 成绩推测模式 -->
      <section id="panel-predict" class="panel" role="tabpanel" aria-labelledby="tab-predict" hidden>
        <div class="card">
          <h2>成绩推测</h2>

          <form id="form-predict" class="form-grid" novalidate>
            <fieldset class="group">
              <legend>您的配速(分钟:秒/公里)</legend>
              
              <!-- 配速滚轮选择器区域 -->
              <div class="wheel-picker-container">
                <div class="embedded-wheels cols-2">
                  <div class="wheel-column">
                    <div class="wheel-label">分钟</div>
                    <div id="pace-minute-wheel" class="wheel-picker"></div>
                  </div>
                  <div class="wheel-column">
                    <div class="wheel-label">秒</div>
                    <div id="pace-second-wheel" class="wheel-picker"></div>
                  </div>
                </div>
              </div>
            </fieldset>

            <fieldset class="group">
              <legend>策略选择</legend>
              <div class="input-row radios">
                <label><input type="radio" name="strategy-predict" value="even" /> 匀速策略</label>
                <label><input type="radio" name="strategy-predict" value="negative" checked /> 负分割策略</label>
              </div>
              
              <!-- 新的负分割策略选择区域 -->
              <div id="negative-split-wrap-predict" class="negative-split-wrap">
                <div class="strategy-explanation">
                  <p>负分割策略：每公里配速持续变快，从较慢配速开始逐渐加速，有助于避免过早疲劳。</p>
                </div>
                
                <div class="strategy-options">
                  <label class="strategy-option">
                    <input type="radio" name="negative-split-predict" value="15" />
                    <div class="strategy-card">
                      <div class="strategy-title">保守策略</div>
                      <div class="strategy-desc">第一公里比目标配速慢15秒/公里</div>
                      <div class="strategy-detail">从较慢配速开始，给身体充分热身时间，降低撞墙风险</div>
                    </div>
                  </label>
                  
                  <label class="strategy-option">
                    <input type="radio" name="negative-split-predict" value="10" checked />
                    <div class="strategy-card">
                      <div class="strategy-title">标准策略</div>
                      <div class="strategy-desc">第一公里比目标配速慢10秒/公里</div>
                      <div class="strategy-detail">平衡的负分割策略，适合大多数有经验的跑者</div>
                    </div>
                  </label>
                  
                  <label class="strategy-option">
                    <input type="radio" name="negative-split-predict" value="5" />
                    <div class="strategy-card">
                      <div class="strategy-title">激进策略</div>
                      <div class="strategy-desc">第一公里比目标配速慢5秒/公里</div>
                      <div class="strategy-detail">接近匀速起跑，后半程需要大幅加速，适合高水平跑者</div>
                    </div>
                  </label>
                </div>
              </div>
            </fieldset>

            <div class="actions">
              <button type="submit" class="btn primary">成绩推测</button>
              <button type="button" id="clear-predict" class="btn">清除</button>
            </div>
          </form>

          <div class="results" id="results-predict">
            <div class="table-wrap">
              <table class="table" aria-label="预测成绩">
                <thead>
                  <tr>
                    <th>项目</th>
                    <th>预计完赛时间</th>
                  </tr>
                </thead>
                <tbody id="predict-body">
                  <tr><td colspan="2" class="muted">暂无数据</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <small>适用于现代浏览器 · 仅作训练用途</small>
    </footer>

    <script src="script.js"></script>
  </body>
  </html>

